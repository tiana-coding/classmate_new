<div class="container py-4">
  <div class="row align-items-stretch">
  <!-- Linke Spalte: Fortschritt + AktivitÃ¤ten -->
<div class="col-md-6 mb-4 d-flex flex-column">
  <div class="card bg-white text-center mb-3">
    <div class="card-body">
      <h5 class="card-title">Level-Fortschritt</h5>
      <h6 class="mb-3">Level {{ currentLevel }}</h6>

      <div class="progress mx-auto" style="height: 28px; width: 75%;">
        <div
          class="progress-bar bg-warning text-dark fw-bold d-flex align-items-center justify-content-center"
          [style.width.%]="progressPercent">
          {{ progressPercent }}%
        </div>
      </div>

      <small class="text-muted d-block mt-2">
        Noch {{ pointsToNextLevel }} Punkte bis Level {{ nextLevel }}
      </small>
    </div>
  </div>

  <!-- AktivitÃ¤ten-Log -->
  <div class="card bg-white flex-grow-1">
    <div class="card-body">
      <h5 class="card-title">ğŸ•’ Letzte AktivitÃ¤ten</h5>
      <ul class="list-group list-group-flush">
        <li class="list-group-item">+10 XP fÃ¼r gelÃ¶ste Aufgabe</li>
        <li class="list-group-item">ğŸ¯ Neues Abzeichen: Newcomer</li>
        <li class="list-group-item">ğŸ“… Erste Aufgabe hochgeladen</li>
        <li class="list-group-item">ğŸ’¬ Im Forum kommentiert</li>
      </ul>
    </div>
  </div>
</div>


  <!-- Rechte Spalte: Rangliste -->
  <div class="col-md-6 mb-4 d-flex h-100">
    <div class="card bg-white w-100 h-100">
      <div class="card-body">
        <h4>ğŸ† Rangliste</h4>
        <ul class="list-group" *ngIf="leaderboard.length > 0; else loading">
          <li *ngFor="let user of leaderboard; index as i" class="list-group-item d-flex justify-content-between align-items-center">
            <span><strong>{{ i + 1 }}.</strong> {{ user.name }}</span>
            <span class="badge bg-primary rounded-pill">{{ user.points }} XP</span>
          </li>
        </ul>
        <ng-template #loading>
          <p>Lade Rangliste...</p>
        </ng-template>
      </div>
    </div>
  </div>
</div>


  <!-- Achievements -->
  <div class="row">
    <div class="col-12">
      <div class="card bg-white">
        <div class="card-body">
          <h5 class="card-title">Achievements</h5>
          <ul class="list-group">
            <li
                *ngFor="let badge of badges"
                class="list-group-item d-flex justify-content-between align-items-center">
                
                <div class="d-flex align-items-center">
                <img
                    [src]="badge.unlocked ? badge.image : badge.lockedImage"
                    width="40"
                    class="me-3"
                    alt="{{ badge.title }}" />
                <div>
                    <strong>{{ badge.title }}</strong><br />
                    <small>{{ badge.unlockMessage }}</small>
                </div>
                </div>

                <!-- Pokal rechts -->
                <i
                class="bi"
                [ngClass]="badge.unlocked ? 'bi-trophy-fill text-warning fs-4' : 'bi-trophy fs-4 text-secondary opacity-25'">
                </i>
            </li>
        </ul>
        </div>
      </div>
    </div>
  </div>
</div>
